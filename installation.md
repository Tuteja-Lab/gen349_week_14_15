# GEN/BIOL 3490: Week 14 - Programming for Biologists
# Instruction on how to access High Performance Computer (HPC) Class

All of the following instructions are applicable for first time users of Nova. If you have accessed Nova before (in another class or in your research lab), it will not be necessary.

## Installation of necessary software
### For PC Users:

Depending on which version of Windows you are using, you may have to use a different application to connect to the HPC. To check which version of Windows you have follow these steps:

1. Click the Start button
2. Go to Settings
3. Go to System
4. Go to About
5. Look under "Windows specifications" 


#### For Users with Windows version > 10
You will be using PowerShell. PowerShell is a cross-platform task automation solution made up of a command-line shell, a scripting language, and a configuration management framework. PowerShell runs on Windows, Linux, and macOS.

Before installation, try searching for PowerShell on your Windows computer. 
<img src="/images/windows_powershell.png" width="790" height="644" />

Here is the recommended way to install PowerShell if it is not already installed:

1. Search for the latest version of PowerShell using the published winget packages:
```winget search Microsoft.PowerShell```

2. Install PowerShell or PowerShell Preview using the `id` parameter
```winget install --id Microsoft.PowerShell --source winget```

#### Windows version < 10
You need to install Putty. How to Install PuTTY:   
1. Go to this Website to download the latest version of Putty: https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html   
2. There are two versions available for download:   
a. If you know for sure that your PC has a 64-bit processor, download 64-bit: putty-64bit-0.80-installer.msi     
b. If you aren’t sure about your computer’s processor, download 32-bit: putty-64bit-0.80-installer.msi  
3. Once you have downloaded PuTTY, double click on the downloaded files and follow the prompts to install.   

**Notes:** If you want to paste in Putty environment, do right click.   

### For Mac Users:
1. Open a Finder window and search for the Application ‘Terminal’.
2. Double Click on the ‘Terminal’ icon.

<img src="/images/mac_terminal.png" width="660" height="360" />

### VPN (optional - for people who work on HPC off-campus)
Once you have all of your software installed, you will need to make sure you can access the VPN if you are off campus.   
1. Follow these steps to install/connect to VPN on a mac:   
https://it.engineering.iastate.edu/how-to/install-and-connect-to-vpn-mac/   
2. Follow these steps to install/connect to VPN on a PC:   
https://it.engineering.iastate.edu/how-to/install-and-connect-to-vpn-pc/  

## Accessing HPC class
### Step 1: ssh to Nova for the first time

* If you using PowerShell, type the following command into the PowerShell window:

	```
	ssh your-net-id@nova.its.iastate.edu
	```
	
	For example: `ssh hhvu@nova.its.iastate.edu` (replace `hhvu` with your own NetID). Then click enter.


* If you are on Putty, put the information as in the picture here:

	<img src="/images/hpc-class.PNG" width="360" height="350" />

	Replace `hhvu` with your own NetID. Then click `Open`.

* If you are on Mac Terminal, type the following command into the Terminal:
	```
	ssh your-net-id@nova.its.iastate.edu
	```
	
	For example: `ssh hhvu@nova.its.iastate.edu` (replace `hhvu` with your own NetID). Then click enter.

If this is the first time you log onto Nova, it will respond with "host key not found, generate hostkey?(yes/no)".

* Type in `yes` if you are on a Mac Terminal or PowerShell.
* If you are on Putty, click `Accept`.

At the first attempt to login a GA account will be created for you, and the email with the instructions will be sent to `<your-NetID>@iastate.edu`.

### Step 2: follow the instruction as in the email from HPC class

### Step 3: Connecting to Nova
After installing and initializing GA as described in the emailed instructions:

* Login to the Nova cluster by repeating Step 1.
* Type the 6-digit code generated by GA app when prompted for "Verification Code" is prompted. **Note:** It will not show anything on the screen when you enter the code, but it's actually still recording what you type in. Click enter once you finish typing in the code.

<img src="/images/verify.PNG" width="415" height="105" />

* Enter your ISU password when prompted for password. **Note:** It will not show anything on the screen when typing, but it is still recording what you type in. Click enter once you finish typing in your password.


### Step 4: Request interactive access to a compute node in instruction partition
* Next, we have to request interactive access to a compute node in instruction partition.

* Check with class you are registered for:
	* If you are registered for GEN 3490, then you should copy and paste the following command to your terminal:

		```
		salloc --partition=instruction -N 1 -n 4 -t 3:00:00 --account=s2025.gen.349.1
		```
	
	* If you are registered for BIOL 3490, then you should copy and paste the following command to your terminal:

		```
		salloc --partition=instruction -N 1 -n 4 -t 3:00:00 --account=s2025.biol.349.1
		```

	#### How to paste into PowerShell/Putty/Mac:
	- PowerShell: `Ctrl + V`
	- Putty: `Right click`
	- Mac Terminal: `Command + V`


* Once access is granted, it will prompt some messages similar to the following:

<img src="/images/class-partition.PNG" width="950" height="110" />
